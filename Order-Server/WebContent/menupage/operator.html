<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>人员管理</title>

<link rel="stylesheet" type="text/css"
	href="../ext-4.2.1/resources/css/ext-all.css" />
<script type="text/javascript" src="../ext-4.2.1/ext-all.js"></script>
<script type="text/javascript" src="../ext-4.2.1/ext-lang-zh_CN.js"></script>

<script type="text/javascript">
	Ext.onReady(function() {
		var fields = [ 'fullname', 'age', 'sex', 'phonenumber' ];

		var store = new Ext.data.Store({
			storeId : 'simpsonsStore',
			reader : new Ext.data.JsonReader({
				fields : fields,
				root : "data"
			}),
			proxy : new Ext.data.HttpProxy({
				url : '../MenuData'
			})
		});
		
	store.load({
	    scope: this,
	    callback: function(records, operation, success) {
	        // the operation object
	        // contains all of the details of the load operation
	        console.log(records);
	    }
	    });
		
		new Ext.grid.Panel({
			title : '测试',
			store : Ext.data.StoreManager.lookup('simpsonsStore'),
			columns : [ {
				text : '姓名',
				dataIndex : 'fullname'
			}, {
				text : '年龄',
				dataIndex : 'age',
				flex : 1
			}, {
				text : '性别',
				dataIndex : 'sex'
			}, {
				text : '电话',
				dataIndex : 'phonenumber'
			} ],
			height : 200,
			width : 400,
			renderTo : 'div_grid'
		});
	});
</script>
</head>
<body>
	<div id='div_grid'></div>
</body>
</html>